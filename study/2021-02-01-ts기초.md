---
layout: page
title: "TypeScript ê¸°ì´ˆ"
author: author1
comments: true
description: >
hide_description: true
sitemap: true
---

0. this unordered seed list will be replaced by toc as unordered list 
{:toc}

# TypeScript ê¸°ì´ˆ
- JavaScriptë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´
<hr>

## JSì™€ TSì˜ ì°¨ì´
JS
```js
const plus = (a, b) => a + b;
```
TS
```ts
const plus = (a:number, b:number) => a + b;
```
- Typeì„ ì§€ì •í•´ì•¼ í•œë‹¤.

- ë¬¸ì œê°€ ì—†ìœ¼ë©´ JS ì½”ë“œë¡œ returní•œë‹¤.

- ì˜ëª»ëœ propsë¥¼ ë³´ë‚´ê²Œ ëœë‹¤ë©´ ì˜¤ë¥˜ë¥¼ ë³´ë‚´ì¤€ë‹¤.

ğŸ’¡Prop TypesëŠ” propì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ì½”ë“œë¥¼ ì‹¤í–‰ í›„ í™•ì¸í•´ì¤€ë‹¤.
<hr>

## TSë¡œ React App ìƒì„± ë° ì‚´í´ë³´ê¸°
ğŸ”§ `npx create-react-app [í”„ë¡œì íŠ¸ ëª…] --template typescript`<br>
ğŸ”§ `npm i --save-dev @types/styled-components`<br>
ğŸ”§ `npm install --save styled-components`<br>

### Interface
- objectì˜ shapeë¥¼ ì„¤ëª…í•´ì¤€ë‹¤.

> /src/Circle.tsx
```ts
interface ContainerProps {
  bgColor: string;
  borderColor: string;
}

const Container = styled.div<ContainerProps>`
  width: 100px;
  height: 100px;
  background-color: ${(props) => props.bgColor};
  border-radius: 100px;
  border: 5px solid ${(props) => props.borderColor};
`;

interface CircleProps {
  bgColor: string;
  borderColor?: string;
}

function Circle({ bgColor, borderColor }: CircleProps) {
  return <Container bgColor={bgColor} borderColor={borderColor ?? bgColor} />;
}

export default Circle;
```

ğŸ’¡ 'borderColor?'ëŠ” borderColorë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆê³  ì•ˆí•  ìˆ˜ë„ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. 
ğŸ’¡ 'borderColor ?? bgColor'ëŠ” borderColorê°€ ìˆë‹¤ë©´ ì‚¬ìš©í•˜ê³  ì—†ë‹¤ë©´ bgColorë¥¼ ì‚¬ìš©í•˜ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°–ëŠ”ë‹¤.

#### State
React JSì—ì„œ ì‚¬ìš©í•˜ëŠ” stateì™€ ê¸°ëŠ¥ì€ ë™ì¼í•˜ì§€ë§Œ TSì—ì„œëŠ” defaultê°’ì— ë”°ë¼ typeì´ ì„¤ì •ëœë‹¤.<br>
ë§Œì•½ number ë˜ëŠ” string íƒ€ì…ì´ ë˜ê¸°ë¥¼ ì›í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•´ì•¼í•œë‹¤.
```js
const [value, setValue] = useState<number|string>(1);
setValue(3);
setValue("helloworld");
```
<hr>

### Form
> Log In Form ì˜ˆì‹œ
```ts
function App() {
  const [value, setValue] = useState("");
  const onChange = (event: React.FormEvent<HTMLInputElement>) => {
    const {
      currentTarget: { value },
    } = event;
    setValue(value);
  };
  const onSubmit = (event: React.FormEvent<HTMLFormElement>) => {
    event.preventDefault();
    console.log("hello", value);
  };
  return (
    <div>
      <form onSubmit={onSubmit}>
        <input value={value} onChange={onChange} type="text" placeholder="username" />
        <button>Log in</button>
      </form>
    </div>
  );
}
```
ğŸ’¡ 'event: React.FormEvent': Formì—ì„œ ë°œìƒë˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ì˜¨ë‹¤.<br>
ğŸ’¡ '<HTMLFormElement>`: Formì´ ì´ë²¤íŠ¸ë¥¼ ë°œìƒí•œë‹¤ê³  ì•Œë ¤ì£¼ê³  ì˜¤íƒ€ê°€ ë‚  ê²½ìš° ì•Œë ¤ì¤€ë‹¤.<br>

[ë‹¤ë¥¸ ì´ë²¤íŠ¸ ì‚´í´ë³´ê¸°]("https://reactjs.org/docs/events.html"){:target="_blank"}
<hr>

**ğŸ“• ES6 ë¬¸ë²•**<br>

```js
const value = event.currentTarget.value;
const id = event.currentTarget.id;
const tagName = event.currentTarget.tagName;
const width = event.currentTarget.width;
```
ìœ„ì˜ ì½”ë“œë¥¼ ì•„ë˜ì™€ ê°™ì´ ë¬¶ì–´ì„œ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```js
const {
currentTarget: { value, id, tagName, width},
} = event;
```
<hr>

### Theme
> /src/styled.d.ts íŒŒì¼ ìƒì„± 
ğŸ’¡ 'styled.d.ts'ì—ì„œ 'd'ëŠ” declaration(ì„ ì–¸)ì„ ì˜ë§ˆí•œë‹¤.

#### ë¼ì´íŠ¸ ëª¨ë“œ & ë‹¤í¬ ëª¨ë“œ ë§Œë“¤ê¸°
> /src/styled.d.ts
```ts
import "styled-components";

declare module "styled-components" {
  export interface DefaultTheme {
    textColor: string;
    bgColor: string;
    btnColor: string;
  }
}
```

> /src/theme.ts
```js
import { DefaultTheme } from "styled-components";

export const lightTheme: DefaultTheme = {
  bgColor: "white",
  textColor: "black",
  btnColor: "red",
};
export const darkTheme: DefaultTheme = {
  bgColor: "black",
  textColor: "white",
  btnColor: "blue",
};
```

> `/src/index.tsx`
```js
root.render(
  <React.StrictMode>
    <ThemeProvider theme={darkTheme}>
      <App />
    </ThemeProvider>
  </React.StrictMode>
);
```

> `/src/App.tsx`
```js
const Container = styled.div`
  background-color: ${(props) => props.theme.bgColor};
`;
const H1 = styled.h1`
  color: ${(props) => props.theme.textColor};
`;

function App() {
  return (
    <Container>
      <H1>Hello World!</H1>
    </Container>
  );
}
```
<hr>

## React Query
- í¸ë¦¬í•œ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ fetch ì‹œí‚¨ë‹¤.

react-router-dom ì„¤ì¹˜
ğŸ”§ `npm i react-router-dom@5.3.0 react-query`

import ì˜¤ë¥˜ í•´ê²°í•˜ê¸°
ğŸ”§ `npm i --save-dev @types/react-router-dom`

### Router

`/src/routes/Coin.tsx`
```ts
interface RouteParams {
  coinId: string;
}

function Coin() {
  const { coinId } = useParams<RouteParams>();

  return <h1>Coin: {coinId}</h1>;
```

`/src/Router.tsx`
```ts
import { BrowserRouter, Route, Switch } from "react-router-dom";
import Coin from "./routes/Coin";
import Coins from "./routes/Coins";

function Router() {
  return (
    <BrowserRouter>
      <Switch>
        <Route path="/:coinId">
          <Coin />
        </Route>
        <Route path="/">
          <Coins />
        </Route>
      </Switch>
    </BrowserRouter>
  );
}
export default Router;
```

`/src/App.tsx`
```ts
import Router from "./Router";

function App() {
  return <Router />;
}

export default App;
```

## Hook

### useEffect
### useState
### useQuery
- React Queryë¥¼ ì´ìš©í•˜ì—¬ ì„œë²„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì¡°íšŒí•´ ì˜¬ ë•Œ ì‚¬ìš©í•œë‹¤.

### useMatch(useRouteMatch)
### useNavigate(useHistory)
### useScroll(useViewScroll)

## React Query 

ğŸ”§ npm install @tanstack/react-query
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";

const client = new QueryClient();

### 
### 