---
layout: page
title: "TypeScript 기초"
author: author1
comments: true
description: >
hide_description: true
sitemap: true
---

0. this unordered seed list will be replaced by toc as unordered list 
{:toc}

# TypeScript 기초
- JavaScript를 기반으로 한 프로그래밍 언어
<hr>

## JS와 TS의 차이
JS
```js
const plus = (a, b) => a + b;
```
TS
```ts
const plus = (a:number, b:number) => a + b;
```
=> Type을 지정해야 한다.

=> 문제가 없으면 JS 코드로 return한다.
<hr>

## TS로 React App 만들기
🔧 `npx create-react-app [프로젝트 명] --template typescript`<br>
🔧 `npm i --save-dev @types/styled-components`<br>
🔧 `npm i styled-components`<br>


### Interface
- object의 shape를 설명해준다.

/src/Circle.tsx
```ts
interface ContainerProps {
  bgColor: string;
}
const Container = styled.div<ContainerProps>`
  width: 200px;
  height: 200px;
  background-color: ${(props) => props.bgColor};
  border-radius: 50%;
`;

interface CircleProps {
  bgColor: string;
}

function Circle({ bgColor }: CircleProps) {
  return <Container bgColor={bgColor} />;
}

export default Circle;
```
=> 잘못된 props를 보내게 된다면 오류를 알려준다.
 
💡Prop Types는 prop이 있는지 없는지 코드를 실행 후 확인해준다.

### Froms

```ts
function App() {
  const [value, setValue] = useState("");
  const onChange = (event: React.FormEvent<HTMLInputElement>) => {
    const {
      currentTarget: { value },
    } = event;
    setValue(value);
  };
  const onSubmit = (event: React.FormEvent<HTMLFormElement>) => {
    event.preventDefault();
    console.log("hello", value);
  };
  return (
    <div>
      <form onSubmit={onSubmit}>
        <input value={value} onChange={onChange} type="text" placeholder="username" />
        <button>Log in</button>
      </form>
    </div>
  );
}
```
=> `event: React.FormEvent<HTMLFormElement>`를 사용함으로 오타가 날 경우 알려준다.
<hr>

## 라이트모드 & 다크모드
### Themes
<a href="https://styled-components.com/docs/api#create-a-declarations-file" target="_blank">
`/src/styled.d.ts` 파일 생성

```ts
import "styled-components";

// and extend them!
declare module "styled-components" {
  export interface DefaultTheme {
    textColor: string;
    bgColor: string;
    btnColor: string;
  }
}
```

`/src/theme.ts`
```ts
import { DefaultTheme } from "styled-components";

export const lightTheme: DefaultTheme = {
  bgColor: "white",
  textColor: "black",
  btnColor: "red",
};
export const darkTheme: DefaultTheme = {
  bgColor: "black",
  textColor: "white",
  btnColor: "blue",
};
```
`/src/index.tsx`
```ts
root.render(
  <React.StrictMode>
    <ThemeProvider theme={darkTheme}>
      <App />
    </ThemeProvider>
  </React.StrictMode>
);
```

`/src/App.tsx`
```ts
const Container = styled.div`
  background-color: ${(props) => props.theme.bgColor};
`;
const H1 = styled.h1`
  color: ${(props) => props.theme.textColor};
`;

function App() {
  return (
    <Container>
      <H1>Hello</H1>
    </Container>
  );
}
```
<hr>

## React Query
- 편리한 방식으로 데이터를 fetch 시킨다.

react-router-dom 설치
🔧 `npm i react-router-dom@5.3.0 react-query`

import 오류 해결하기
🔧 `npm i --save-dev @types/react-router-dom`

### Router

`/src/routes/Coin.tsx`
```ts
interface RouteParams {
  coinId: string;
}

function Coin() {
  const { coinId } = useParams<RouteParams>();

  return <h1>Coin: {coinId}</h1>;
```

`/src/Router.tsx`
```ts
import { BrowserRouter, Route, Switch } from "react-router-dom";
import Coin from "./routes/Coin";
import Coins from "./routes/Coins";

function Router() {
  return (
    <BrowserRouter>
      <Switch>
        <Route path="/:coinId">
          <Coin />
        </Route>
        <Route path="/">
          <Coins />
        </Route>
      </Switch>
    </BrowserRouter>
  );
}
export default Router;
```

`/src/App.tsx`
```ts
import Router from "./Router";

function App() {
  return <Router />;
}

export default App;
```

## Hook

### useEffect
### useState
### useQuery
- React Query를 이용하여 서버로부터 데이터를 조회해 올 때 사용한다.

### useMatch(useRouteMatch)
### useNavigate(useHistory)
### useScroll(useViewScroll)

## React Query 

🔧 npm install @tanstack/react-query
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";

const client = new QueryClient();

### 
### 